<!-- templates/product/modal.html -->
<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<div th:fragment="productForm">
    <div class="modal fade" id="productModal" tabindex="-1" aria-labelledby="productModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content shadow-lg border-0 rounded-3">

                <!-- ✅ 등록과 수정을 모두 처리하는 하나의 form -->
                <form th:action="@{/products}" method="post" class="needs-validation" novalidate>
                    <!-- ✅ 수정 시 필요한 ID -->
                    <input type="hidden" name="productId" />

                    <!-- 헤더 -->
                    <div class="modal-header bg-info border-bottom">
                        <h5 class="modal-title fw-bold text-info text-white" id="productModalLabel">
                            <i class="bi bi-box-seam me-2"></i> 상품 등록
                        </h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <!-- 바디 -->
                    <div class="modal-body">
                        <div class="container-fluid">
                            <!-- 상품명 / 유형 -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">상품명</label>
                                    <input type="text" name="name" class="form-control shadow-sm" placeholder="예: 3개월 회원권" required />
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">상품 유형</label>
                                    <select name="type" class="form-select shadow-sm" required>
                                        <option value="">선택하세요</option>
                                        <option value="MEMBERSHIP">회원권</option>
                                        <option value="PT">PT 패키지</option>
                                    </select>
                                </div>
                            </div>

                            <!-- 유효기간 / PT 횟수 -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">유효 기간 (일)</label>
                                    <input type="number" name="duration" class="form-control shadow-sm" placeholder="예: 90" required />
                                    <div class="form-text text-muted">회원권/패키지의 이용 기간을 일 단위로 입력하세요.</div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">PT 횟수 <span class="text-muted small">(PT만 해당)</span></label>
                                    <input type="number" name="count" class="form-control shadow-sm" placeholder="예: 10" />
                                </div>
                            </div>

                            <!-- 가격 / 활성 여부 -->
                            <div class="row mb-3">
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">가격 (원)</label>
                                    <div class="input-group shadow-sm">
                                        <span class="input-group-text bg-light">₩</span>
                                        <input type="number" name="price" class="form-control" placeholder="예: 100000" required />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <label class="form-label fw-bold">활성화 여부</label>
                                    <div class="d-flex align-items-center gap-3 mt-1">
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="isActive" value=true id="activeTrue" checked>
                                            <label class="form-check-label text-success fw-semibold" for="activeTrue">활성</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="isActive" value=false id="activeFalse">
                                            <label class="form-check-label text-muted fw-semibold" for="activeFalse">비활성</label>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 설명 -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">설명</label>
                                <textarea name="description" class="form-control shadow-sm" rows="2" placeholder="상품에 대한 설명을 입력하세요."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- 푸터 -->
                    <div class="modal-footer border-0">
                        <button type="button" class="btn btn-secondary px-4" data-bs-dismiss="modal">
                            <i class="bi bi-x-circle me-1"></i> 취소
                        </button>
                        <button type="submit" class="btn btn-primary px-4">
                            <i class="bi bi-save me-1"></i> 저장
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</html>
